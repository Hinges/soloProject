var app=angular.module("myApp",["ngRoute"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/login.html",controller:"loginController"}).when("/registration",{templateUrl:"views/registration.html",controller:"registerController"}).when("/admin",{templateUrl:"views/userAdmin.html",controller:"adminController"}).when("/user",{templateUrl:"views/userChild.html",controller:"childController"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),app.controller("loginController",["$scope","$http","$location","DataService",function(a,b,c,d){a.userData=d.userData,a.submitData=function(){b.post("/",a.data).then(function(b){"failure"==b.data&&(console.log("failure hit"),a.update=!0),d.makeLoginRequest(b),c.path(b.data.role)})}}]),app.controller("registerController",["$scope","$http","$location",function(a,b,c){}]),app.controller("adminController",["$scope","$http","$location","DataService",function(a,b,c,d){a.userData=d.userData,a.items=d.userData.server.data.sub_users,a.newTask={},a.newUser={},a.currentSubuserFunc=function(){a.currentSubuser=a.newTask.selectedUser,a.userTasks=a.newTask.selectedUser.assigned_task},a.createUser=function(){b.post("/registerUser",a.newUser).then(function(b){a.newUser={}})},a.createTask=function(){console.log("This is scope newtask",a.newTask),b.post("/createTask",a.newTask).then(function(b){a.userData=b;var c=a.newTask.selectedUser;a.newTask={},a.newTask.selectedUser=c})},a.updatePriority=function(c){var e={scopeData:a.newTask.selectedUser,userTaskData:c};b.post("/updateUser",e).then(function(b){console.log("Adsadadsad",b),d.makeLoginRequest(b),console.log(a.items)})}}]),app.controller("childController",["$scope","$http","$location",function(a,b,c){}]),app.factory("DataService",["$http",function(a){var b={},c=function(a){b.server=a,console.log("service data",a)};return{userData:b,makeLoginRequest:c}}]);